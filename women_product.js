let arr = WomensClothingData=[
    {
        product : "STAUD",
        price : 569,
        image : "https://cdn-images.farfetch-contents.com/17/99/33/93/17993393_41144578_480.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/17/99/33/93/17993393_41144610_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
           
        color : "Black",
        category : "Bag",
        brand : "Baggit",
        sale_discount:20,
        conscious:false,
        
    },
    {
        product : "Cristopher Esber",
        price : 854,
        image : "https://cdn-images.farfetch-contents.com/18/25/59/45/18255945_39057577_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/18/25/59/45/18255945_39065147_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Brown",
        category : "clothing",
        brand : "Ralph Lauren",
        sale_discount:30,
        conscious:false,
    },
    {
        product : "paris Georgia",
        price : 1401,
        image : "https://cdn-images.farfetch-contents.com/17/92/10/20/17921020_41189991_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/17/92/10/20/17921020_41190711_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "White",
        category : "clothing",
        brand : "Ralph Lauren",
        sale_discount:30,
        conscious:false,
    },
    {
        product : "Blumarine",
        price : 540,
        image : "https://cdn-images.farfetch-contents.com/18/80/01/54/18800154_40866507_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/18/80/01/54/18800154_40868148_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Pink",
        category : "clothing",
        brand : "Ralph Lauren",
        sale_discount:20,
        conscious:false,
    },
    {
        product : "Dion Lee",
        price : 530,
        image : "https://cdn-images.farfetch-contents.com/17/23/51/20/17235120_38431607_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/17/23/51/20/17235120_38432878_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Green",
        category : "clothing",
        brand : "Ralph Lauren",
        sale_discount:20,
        conscious:true,
    },
    {
        product : "EÃ‰RA",
        price : 1394,
        image : "https://cdn-images.farfetch-contents.com/17/88/33/79/17883379_40709801_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/17/88/33/79/17883379_40706879_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Green",
        category : "Bag",
        brand : "Baggit",
        conscious:false,
    },
    {
        product : "Mugler",
        price : 984,
        image : "https://cdn-images.farfetch-contents.com/17/91/65/77/17916577_40828729_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/17/91/65/77/17916577_40827687_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Black",
        category : "clothing",
        brand : "Ralph Lauren",
        sale_discount:40,
        conscious:true,
    },
    {
        product : "Miaou",
        price : 1843,
        image : "https://cdn-images.farfetch-contents.com/17/98/28/40/17982840_40671429_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/17/98/28/40/17982840_40671434_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "White",
        category : "clothing",
        brand : "Ralph Lauren",
        sale_discount:40,
        conscious:false,
    },
    {
        product : "Lanvin",
        price : 1370,
        image : "https://cdn-images.farfetch-contents.com/18/67/59/51/18675951_40367357_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/18/67/59/51/18675951_40368140_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "White",
        category : "Shoes",
        brand : "Spark",
        conscious:false,
    },
    {
        product : "Blumarine",
        price : 1157,
        image : "https://cdn-images.farfetch-contents.com/18/56/76/49/18567649_41001478_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/18/56/76/49/18567649_41001494_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Pink",
        category : "clothing",
        brand : "Ralph Lauren",
        conscious:false,
    },
    {
        product : "Alex Perry",
        price : 347,
        image : "https://cdn-images.farfetch-contents.com/18/05/60/16/18056016_40878550_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/18/05/60/16/18056016_40875792_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "White",
        category : "clothing",
        brand : "Ralph Lauren",
        sale_discount:40,
        conscious:true,
    },
    {
        product : "Karl Lagerfeld",
        price : 1895,
        image : "https://cdn-images.farfetch-contents.com/17/56/20/06/17562006_36782237_480.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/17/56/20/06/17562006_36780330_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Blue",
        category : "clothing",
        brand : "Ralph Lauren",
        conscious:false,
    },
    {
        product : "VLogo Signature straight-leg jeans",
        price : 1063,
        image : "https://cdn-images.farfetch-contents.com/18/42/84/67/18428467_40692398_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/18/42/84/67/18428467_40693308_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Blue",
        category : "clothing",
        brand : "Ralph Lauren",
        sale_discount:30,
        conscious:true,
    },
    {
        product : "GANNI",
        price : 329,
        image : "https://cdn-images.farfetch-contents.com/16/39/19/66/16391966_31669406_480.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/16/39/19/66/16391966_31669411_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Grey",
        category : "clothing",
        brand : "Ralph Lauren",
        conscious:false,

    },
    {
        product : "Natasha Zinko",
        price : 1143,
        image : "https://cdn-images.farfetch-contents.com/17/53/46/21/17534621_39253706_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/17/53/46/21/17534621_39253746_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Blue",
        category : "clothing",
        brand : "Ralph Lauren",
        sale_discount:40,
        conscious:true,
    },
    {
        product : "BY FAR",
        price : 1143,
        image : "https://cdn-images.farfetch-contents.com/18/12/13/69/18121369_39355650_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/18/12/13/69/18121369_39356465_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "White",
        category : "Bag",
        brand : "Baggit",
        conscious:false,
    },
    {
        product : "BY FAR",
        price : 1143,
        image : "https://cdn-images.farfetch-contents.com/18/69/28/80/18692880_41097945_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/18/69/28/80/18692880_41097939_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Black",
        category : "Bag",
        brand : "Baggit",
        conscious:true,
    },
    {
        product : "BY FAR",
        price : 1143,
        image : "https://cdn-images.farfetch-contents.com/17/73/45/25/17734525_37180488_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/17/73/45/25/17734525_37180486_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Blue",
        category : "Bag",
        brand : "Baggit",
        conscious:true,
    },
    {
        product : "Lanvin",
        price : 270,
        image : "https://cdn-images.farfetch-contents.com/17/85/06/54/17850654_37594979_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/17/85/06/54/17850654_37599166_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "White",
        category : "Shoes",
        brand : "Spark",
        conscious:false,
    },
    {
        product : "Alexander McQueen",
        price : 370,
        image : "https://cdn-images.farfetch-contents.com/17/52/57/32/17525732_41149075_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/17/52/57/32/17525732_41149076_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "White",
        category : "Shoes",
        brand : "Spark",
        conscious:true,

    },
    {
        product : "Off-White",
        price : 370,
        image : "https://cdn-images.farfetch-contents.com/18/91/96/51/18919651_41114535_1000.jpg",
        image_2 : "https://cdn-images.farfetch-contents.com/18/91/96/51/18919651_41113825_1000.jpg",
        size :{
            s : "S",
            m : "M",
            l : "L"
        },
        color : "Purple",
        category : "Shoes",
        brand : "Spark",
        conscious:false,
    },
]

let prodLs = JSON.parse(localStorage.getItem('women_products_data')) || [];



let dropdown = document.querySelectorAll(".dropdown_main");
  dropdown.forEach((dropdown) => {
    let select = dropdown.querySelector(".select");
    let caret = dropdown.querySelector(".caret");
    let menu = dropdown.querySelector(".menu");
    let options_ = dropdown.querySelectorAll(".menu li");
    let selected = dropdown.querySelector(".selected");
    select.addEventListener("click",()=> {
      select.classList.toggle("select-clicked");
      caret.classList.toggle("caret-rotate");
      menu.classList.toggle("menu-open");
    });
    options_.forEach((opt) => {
        opt.addEventListener("click", () => {
        selected.innerText = opt.innerText;

        select.classList.remove("select-clicked");
        
        caret.classList.remove("caret-rotate");
        menu.classList.remove("menu-open");
        options_.forEach((opt) => {
          opt.classList.remove("active");
        });
        opt.classList.add("active");
      });
    });
  });



let dropdown_2 = document.querySelectorAll(".dropdown_main_");
  dropdown_2.forEach((drop) => {
    let select_2 = drop.querySelector(".select_");
    let caret_2 = drop.querySelector(".caret_");
    let menu_2 = drop.querySelector(".menu_2_");
    let options_2 = drop.querySelectorAll(".menu_2_ li");
    let selected_2 = drop.querySelector(".selected_");
    select_2.addEventListener("click",()=> {
      select_2.classList.toggle("select_-clicked");
      caret_2.classList.toggle("caret_-rotate");
      menu_2.classList.toggle("menu_2_-open");
    });
    options_2.forEach((op) => {
        op.addEventListener("click", () => {
        selected_2.innerText = op.innerText;

        select_2.classList.remove("select_-clicked");
        
        caret_2.classList.remove("caret_-rotate");
        menu_2.classList.remove("menu_2_-open");
        options_2.forEach((op) => {
          op.classList.remove("active");
        });
        op.classList.add("active");
      });
    });
  });



let append = (data)=>{
    let container_clothing_ = document.getElementById("container_to_append");
    container_clothing_.innerHTML = null;
    data.forEach((el)=>{
        let small_div_ = document.createElement("div");
        
        let image_women_product = document.createElement("img");
        image_women_product.src = el.image;
        image_women_product.addEventListener("mouseover",function(){
            image_women_product.src = el.image_2;
        })
        image_women_product.addEventListener("mouseout",function(){
            image_women_product.src = el.image;
        })
        let price = document.createElement("p");
        price.innerText ="$"+el.price;
        
        let product = document.createElement("h3");
        product.innerText = el.product;
        if (el.sale_discount >0) {
            let discount = document.createElement("div");
            discount.innerText = el.sale_discount+"% discount";
            price.style.textDecoration = "line-through";
            price.style.color = "red";
            let newPrice = document.createElement("p");
            newPrice.innerText ="$"+Math.round((el.price * ((100-el.sale_discount)/100)));
            
            // price.setAttribute("style", "textDecoration : line-through;");
            // console.log(price);
            discount.setAttribute("style", "z-index: 1;font-size:15px; position: absolute; background-color: #bdbdbd; padding: 0.3em;");
            small_div_.append(discount,image_women_product,product, price,newPrice);
            small_div_.addEventListener("click",function(){
                save_data_for_cart(el);
            })
        } else {
            small_div_.append(image_women_product,product,price);
            small_div_.addEventListener("click",function(){
                save_data_for_cart(el);
            })
        }
        
        //small_div_.append(image_women_product,product,price,discount);
        prodLs.push(el);
        localStorage.setItem('women_products_data', JSON.stringify(prodLs));
        container_clothing_.append(small_div_);
    })
}
append(arr);


function save_data_for_cart(data){
    let cartLS = JSON.parse(localStorage.getItem('selected')) || [];


    cartLS.pop(data)
    cartLS.push(data)

    console.log(cartLS);


    
    console.log(cartLS);

    localStorage.setItem('selected',JSON.stringify(cartLS));
    window.location.href = "./detailwomen.html"
   
}

function hightolow(){
    arr = arr.sort(function(a,b){
        return a.price - b.price;
    });

    append(arr);
}

// let lowtohigh = () =>{
   
//     arr=mdata.sort(function(a,b){
//         return (b.price-a.price)
//     })
//     displayProducts(arr);
// }
//document.getElementById('sort-lh').addEventListener("click",low_to_high)

function lowtohigh(){
    arr = arr.sort(function(a,b){
        return b.price - a.price;
    });

    append(arr);
}

document.getElementById('bag').addEventListener("click",function(){

    let filteRedList = arr.filter(function(elem){
        return elem.category == "Bag";
    })
    console.log(filteRedList);
    append(filteRedList)
})
document.getElementById('clothing').addEventListener("click",function(){

    let filteRedList = arr.filter(function(elem){
        return elem.category == "clothing";
    })
    console.log(filteRedList);
    append(filteRedList);
})
document.getElementById('shoes').addEventListener("click",function(){

    let filteRedList = arr.filter(function(elem){
        return elem.category == "Shoes";
    })
    console.log(filteRedList);
    append(filteRedList);
})

// console.log(document.querySelector("#selected_option li").innerText)
function geteventtarget(e){
    e = e || window.event;
    return e.target || e.srcElement;
}

var ul=document.getElementById('brand')
ul.onclick =function(e){
    var target=geteventtarget(e);
    console.log(target.getAttribute("value"));
    append(arr);
    let arr1 = arr;
    let filteRedList = arr1.filter(function(elem){

        return elem.brand == target.getAttribute("value");
    })
    append(filteRedList)
    // location.reload();
    
}
var ul=document.getElementById('color')
ul.onclick =function(e){
    var target=geteventtarget(e);
    console.log(target.getAttribute("value"));
    append(arr);
    let arr1 = arr;
    let filteRedList = arr1.filter(function(elem){

        return elem.color == target.getAttribute("value");
    })
    append(filteRedList)
    // location.reload();
    
}
var ul=document.getElementById('discount')
ul.onclick =function(e){
    var target=geteventtarget(e);
    console.log(target.getAttribute("value"));
    append(arr);
    let arr1 = arr;
    let filteRedList = arr1.filter(function(elem){

        return elem.sale_discount == target.getAttribute("value");
    })
    append(filteRedList)
    // location.reload();
    
}


document.querySelector(".price_range").addEventListener("keypress",function(event){
    if(event.key == "Enter"){
        // event.preventDefault();
        min = document.getElementById("min_value").value;
        max = document.getElementById("max_value").value;
        append(arr);
        let filteRedList = arr.filter(function(elem){
            console.log(elem.price >= min && elem.price <= max)
            return (elem.price >= min && elem.price <= max);
        })
        
        append(filteRedList)
    }
    
    
})
var ul=document.getElementById('con')
ul.onclick =function(e){
    var target=geteventtarget(e);
    console.log(target.getAttribute("value"));
    append(arr);
    let arr1 = arr;
    let filteRedList = arr1.filter(function(elem){

        return elem.conscious == true;
    })
    append(filteRedList)
    // location.reload();
    
}


